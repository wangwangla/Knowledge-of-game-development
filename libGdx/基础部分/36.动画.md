# 动画

- 动画就是许多帧的动画
- 原理：多个图片按照一定的速度进行显示出来。

## Animation

关系游戏的动画实现类，一个是动画的时间，一个是TextureRegion,管理动画，设置播放的顺序

```jaba
Animation animation = new Animation(float du,keyFs)  //第一个参数就是间隔多久播放一次
```

这些数据的显示是通过一系列的图片进行展示的，在不同时间时间显示某一张图片。

播放的模式：normal、reversed、loop、loop_reversed\loop_pingpong

## spine动画制作

在spine动画中，我们会设置开始的位置，后面的位置，然后是时间，在json文件中就会保存住每一个位置显示的状态参数（位置/透明度等）

spine动画制作，会有专门的专题出现……。



## split方法

将设置的宽和高，来分割出来

## stateTime

- 类似于计时器
- stateTime+=Gdx.graphics.getDeltaTime():10点01的下一分时10点02

## 绘制

```java
batch.draw(currentFrame,px,py);
//current是当前的一个时间  stateTime
```

## 总结

我们在游戏开发过程中，基本不自己使用，一般通过加载spine播放动画。

我认为的原因是，这种方式需要好多的图片，比较占用空间。



## 代码

```java
public class AnimationDemo extends Game {
    private Batch batch;
    private Animation<TextureRegion> animation;
    private Texture texture;
    private TextureRegion currentRegin;
    @Override
    public void create() {
        texture = new Texture(Gdx.files.internal("badlogic.jpg"));
        TextureRegion region = new TextureRegion(texture);
        TextureRegion[][] split = region.split(texture.getWidth() / 2, texture.getHeight() / 2);
        TextureRegion [] frames = new TextureRegion[2*2];
        int index = 0;
        for (TextureRegion[] textureRegions : split) {
            for (TextureRegion textureRegion : textureRegions) {
                frames[index++] = textureRegion;
            }
        }
        animation = new Animation(0.02F,frames);
        batch = new SpriteBatch();
    }
    float stateTime = 0;
    @Override
    public void render() {
        super.render();
        stateTime+=Gdx.graphics.getDeltaTime();
        currentRegin = animation.getKeyFrame(stateTime, true);
        batch.begin();
        batch.draw(currentRegin,100,100);
        batch.end();
    }
}
```